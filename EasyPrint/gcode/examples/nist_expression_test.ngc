(Sample Program to Test Expressions)
(Copied from the NIST RS274/NGC Spec)
(This file is to test the interpretation of expressions. It tests all unary and binary functions implemented. It also tests parameter setting and referencing. The last few lines test more complicated expressions. This program is not intended to be run on a machining center. The tool path is just random back and forth on the X-axis.)
g21 g1 x3 f20 (expression test)
x [1 + 2] (x should be 3)
x [1 - 2] (x should be -1)
x [1 --3] (x should be 4)
x [2/5] (x should be 0.40)
x [3.0 * 5] (x should be 15)
x [0 OR 0] (x should be 0)
x [0 OR 1] (x should be 1)
x [2 or 2] (x should be 1)
x [0 AND 0] (x should be 0)
x [0 AND 1] (x should be 0)
x [2 and 2] (x should be 1)
x [0 XOR 0] (x should be 0)
x [0 XOR 1] (x should be 1)
x [2 xor 2] (x should be 0)
x [15 MOD 4.0] (x should be 3)
x [1 + 2 * 3 - 4 / 5] (x should be 6.2)
x sin[30] (x should be 0.5)
x cos[0.0] (x should be 1.0)
x tan[60.0] (x should be 1.7321)
x sqrt[3] (x should be 1.7321)
x atan[1.7321]/[1.0] (x should be 60.0)
x asin[1.0] (x should be 90.0)
x acos[0.707107] (x should be 45.0000)
x abs[20.0] (x should be 20)
x abs[-1.23] (x should be 1.23)
x round[-0.499] (x should be 0)
x round[-0.5001] (x should be -1.0)
x round[2.444] (x should be 2)
x round[9.975] (x should be 10)
x fix[-0.499] (x should be -1.0)
x fix[-0.5001] (x should be -1.0)
x fix[2.444] (x should be 2)
x fix[9.975] (x should be 9)
x fup[-0.499] (x should be 0.0)
x fup[-0.5001] (x should be 0.0)
x fup[2.444] (x should be 3)
x fup[9.975] (x should be 10)
x exp[2.3026] (x should be 10)
x ln[10.0] (x should be 2.3026)
x [2 ** 3.0] #1=2.0 (x should be 8.0)
##1 = 0.375 (#1 is 2, so parameter 2 is set to 0.375)
x #2 (x should be 0.375) #3=7.0
#3=5.0 x #3 (parameters set in parallel, so x should be 7, not 5)
x #3 #3=1.1 (parameters set in parallel, so x should be 5, not 1.1)
x [2 + asin[1/2.1+-0.345] / [atan[fix[4.4] * 2.1 * sqrt[16.8]] /[-18]]**2]
x sqrt[3**2 + 4**2] (x should be 5.0)
m2
